$(document).ready(function(){var a=$(".g-nav");$("#menu-toggle").on("click",function(n){var m=200;a.slideToggle(m);$(document).on("click",function(){a.slideUp(m)});n.stopPropagation()});a.on("click",function(m){m.stopPropagation()});if($(window).width()>695){var h=$(".g-header");var f=h.outerHeight();var d=$(".g-logo");var e=a.find("a");var i=$(".g-banner").attr("data-theme");var j=$(document).scrollTop();$(document).scroll(function(){var m=$(this).scrollTop();var n="nav-"+i;if(m>f){if(m>3*f){h.addClass("headerUp")}h.css({"background-color":"rgba(255, 255, 255, .98)","box-shadow":"0 1px 12px rgba(0, 0, 0, .08)"});d.css({background:"url(/assets/icons/logo_"+i+".svg) no-repeat center","background-size":"100% 100%"});e.css("color","#666");a.addClass(n)}else{h.removeClass("headerUp");h.css({"background-color":"transparent","box-shadow":"none"});d.css({background:"url(/assets/icons/logo.svg) no-repeat center","background-size":"100% 100%"});e.css("color","#fff");a.removeClass(n)}if(j>m){h.addClass("headerDown")}else{h.removeClass("headerDown")}j=m})}function b(p,n){var o=p.width();var t=n.width();var m=p.height();var s=n.height();if(m<s){p.css({width:"auto",height:"100%"});o=p.width(),t=n.width();var r=(o-t)/2;p.css("margin-left","-"+r+"px")}else{var q=(s-m)/2;p.css("margin-top",q+"px")}p.fadeIn()}$(".read-next-item section").each(function(){var o=$(this).height();var m=$(".read-next-item").height();$(this).css("margin-top",(m-o)/2+"px");$(this).fadeIn()});$(".read-next-item img").each(function(){b($(this),$(".read-next-item"))});function l(){var q=parseInt($("#total_pages").val());var s=parseInt($("#current_pages").val());var p=$("#base_url").val();var m=3;var r="";for(var o=s-m;o<s;o++){if(o>0&&o!==1){r+='<a href="'+p+"page"+o+'" class="page-link page-num">'+o+"</a>"}else{if(o===1){r+='<a href="'+p+'" class="page-link page-num">'+o+"</a>"}}}r+='<span class="page-link page-num active">'+s+"</span>";for(var n=s+1;n<=s+m;n++){if(n<=q){r+='<a href="'+p+"page"+n+'" class="page-link page-num">'+n+"</a>"}}$("#page-link-container").html(r)}l();function c(){var o=this;var n=$("#search_input");var m=$(".search_result");n.focus(function(){$(".icon-search").css("color","#3199DB");m.show()});n.keyup(k(this.autoComplete));$(document).click(function(p){if(p.target.id==="search_input"||p.target.className==="search_result"||p.target.className==="search_item"){return}$(".icon-search").css("color","#CAD3DC");m.hide()})}c.prototype.autoComplete=function(){var m=this.value.toLowerCase();if(m.length){$(".icon-search").css("color","#3199DB")}else{$(".icon-search").css("color","#CAD3DC")}$.getJSON("../../search.json").done(function(t){var r="";for(var q in t){var s=t[q];var u=s.title;var p=s.tags;var o=s.url;var n=u+p;if(m!==""&&n.toLowerCase().indexOf(m)>=0){r+='<a class="search_item" href="'+s.url+'">'+s.title+"</a>"}}$(".search_result").html(r)})};function k(n,m){var o;m=m||120;return function(){var p=this;var r=arguments;var q=function(){n.apply(p,r)};clearTimeout(o);o=setTimeout(q,m)}}new c();function g(m){m+="\n\n著作权归作者所有。\n商业转载请联系作者获得授权,非商业转载请注明出处。\n原文: "+location.href;$(".post-content").on("copy",function(o){var n=window.clipboardData||o.originalEvent.clipboardData;n.setData("text/plain",m);o.preventDefault()})}$(".post-content").on("mouseup",function(n){var m=window.getSelection();if(m.toString().length>=30){g(m)}})});